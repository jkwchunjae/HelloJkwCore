@inherits JkwPageBase
@page "/LibraBoard"
@using MudBlazor


<MudDropContainer T="DropCubeItem" Items="_cubes"
    Class="mud-border-lines-default"
    ItemsSelector="@((item, dropzone) => item.Identifier == dropzone)"
    ApplyDropClassesOnDragStarted="false"
    CanDropClass="mud-border-info"
    NoDropClass="mud-border-error"
    CanDrop="CanDrop"
    ItemDropped="ItemDropped"
>
    <ChildContent>
        <div class="board">
            <div class="scales d-flex">
                @foreach (var scale in state.Scales)
                {
                    <ScaleComponent Scale="@scale" />
                }
            </div>
            <div class="players">
                @foreach (var player in state.Players)
                {
                    <PlayerComponent Player="@player" />
                }
            </div>
        </div>
    </ChildContent>
    <ItemRenderer>
        @{
            var color = $"cube-color-{context.Cube.Id}";
        }
        <span class="cube-item @color">@context.Cube.Id</span>
    </ItemRenderer>
</MudDropContainer>


