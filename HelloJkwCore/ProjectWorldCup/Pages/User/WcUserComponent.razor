@if (string.IsNullOrEmpty(TargetUser?.AppUser?.NickName))
{
  <MudTextField T="string" @bind-Value="@InputNickname" Label="닉네임"></MudTextField>
  <OneClickButton OnClick="@(() => ChangeNickname())" Variant="Variant.Outlined">
    닉네임 설정 (한번만 가능)
  </OneClickButton>
}
else
{
  <MudTextField T="string" Value="@TargetUser.AppUser.DisplayName" Label="닉네임" ReadOnly="true"></MudTextField>
  @*@if (User.NickName != InputNickname)
    {
      <OneClickButton OnClick="@(() => ChangeNickname500())" Variant="Variant.Outlined" Reusable="true">
        500원 내고 닉네임 변경
      </OneClickButton>
    }*@
}

@if (TargetUser?.BettingHistories?.Any() ?? false)
{
  @if (LocalTimeZone != null)
  {
    <MudText Typo="Typo.h3">Timeline</MudText>
    <MudTable Items="TargetUser.BettingHistories" Dense="true">
      <HeaderContent>
        <MudTh>시간</MudTh>
        <MudTh>내용</MudTh>
        <MudTh>금액</MudTh>
        <MudTh></MudTh>
      </HeaderContent>
      <RowTemplate>
        <MudTd DataLabel="시간">@(TimeZoneInfo.ConvertTimeFromUtc(context.Time, LocalTimeZone))</MudTd>
          <MudTd DataLabel="내용">@context.Comment</MudTd>
          <MudTd DataLabel="금액">
            @context.Value
          </MudTd>
          <MudTd>
          @if (!string.IsNullOrEmpty(context.ResultUrl))
          {
            <MudLink Href="@context.ResultUrl">LINK</MudLink>
          }
        </MudTd>
      </RowTemplate>
    </MudTable>
  }
}

