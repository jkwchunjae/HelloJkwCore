@inherits JkwPageBase
@layout WcLayout
@page "/worldcup/2022/welcome-betting"
@using ProjectWorldCup.Pages.Wc2018

<WcTitle>2022 월드컵 내기</WcTitle>

<div class="description">
@if (IsAuthenticated)
{
  @if (BettingUser?.JoinStatus == UserJoinStatus.Joined)
  {
  }
  else if (BettingUser?.JoinStatus == UserJoinStatus.None)
  {
    <div>
        <span>환영합니다!</span>
        @*<span>월드컵 내기는 총 3단계로 이뤄져있습니다.</span>*@
        @*<span>1. 16강 진출팀 맞추기</span>*@
        @*<span>2. 8강 진출팀 맞추기</span>*@
        @*<span>3. 1, 2, 3, 4등 맞추기</span>*@
        @*<span>모든 단계별로 1만원을 걸고 정해진 규칙에 의해서 상금을 타가는 방식입니다.</span>*@
        <span>자세한 규칙은 블로그를 통해 확인하실 수 있습니다.</span>
        <MudLink Href="https://hellojkw.tistory.com/entry/2022-worldcup-betting-rule" Target="_blank" Underline="Underline.Always"
             onclick="@(() => OnClickBlogLink())">
            &lt;&lt; 블로그에서 규칙 읽기 &gt;&gt;
        </MudLink>
    </div>

    <div>
        <span>카카오 친구 등록하고 참가비 2만원을 송금해주세요.</span>
        <span>친구 추가하는 이유는 다시 돌려드리기 위함입니다.</span>
        <span>
            <a href="http://qr.kakao.com/talk/ZBOQFohhymZT3I.2H2zVl.xSI0M-">
                <img src="/images/wc/kakao_jkw.png" alt="카카오친구 추가" width="100"/>
            </a>
        </span>
    </div>

    <div>
        <MudLink Href="https://hellojkw.tistory.com/entry/2022-worldcup-betting-rule" Target="_blank" Underline="Underline.Always"
             onclick="@(() => OnClickBlogLink())">
          &lt;&lt; 블로그에서 규칙 읽기 &gt;&gt;
        </MudLink>
        <MudCheckBox T="bool" CheckedChanged="@((bool check) => ChangeCheckboxBlogRead(check))" Checked="CheckBoxReadBlog"
            Label="블로그의 규칙을 읽고 이해했습니다"
            />
        <OneClickButton OnClick="@(() => JoinAsync())" Variant="Variant.Filled" Color="Color.Success" Disabled="@(CheckBoxReadBlog == false)">
            승인 요청 (위에 QR코드로 입금을 해주세요.)
        </OneClickButton>
    </div>
  }
  else if (BettingUser?.JoinStatus == UserJoinStatus.Requested)
  {
    <div>
        <span>승인 대기 중 입니다.</span>
        <span>아래 QR코드를 이용해서 친구 추가 후 송금해주세요.</span>
        <MudLink Href="https://hellojkw.tistory.com/entry/2022-worldcup-betting-rule" Underline="Underline.Always">
            &lt;&lt; 블로그에서 규칙 읽기 &gt;&gt;
        </MudLink>
        <span>
            <a href="http://qr.kakao.com/talk/ZBOQFohhymZT3I.2H2zVl.xSI0M-">
                <img src="/images/wc/kakao_jkw.png" alt="카카오친구 추가" width="100"/>
            </a>
        </span>
    </div>
    <div>
        <OneClickButton OnClick="@(() => CancelAsync())" Variant="Variant.Filled" Color="Color.Tertiary">
            취소
        </OneClickButton>
    </div>
  }
  else if (BettingUser?.JoinStatus == UserJoinStatus.Rejected)
  {
    <div>
      <span>거절되었습니다.</span>
    </div>
  }
}
else
{
  <div>
      <span>이곳은 2022 월드컵을 보며 내기하는 공간입니다.</span>
      <span>로그인 후 이용하실 수 있습니다.</span>
      <MudLink Href="/login"> &lt;&lt; 로그인 하러가기 &gt;&gt; </MudLink>
  </div>
}
</div>


  @*<Wc2018Result></Wc2018Result>*@


<style>
    div.description span {
        display: block;
        font-size: large;
    }
    div.description div {
        margin-bottom: 10px;
    }
</style>
